!function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=n,o}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}return function t(n){function o(t,l,s){var r;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(s=e({path:"/"},o.defaults,s)).expires){var i=new Date;i.setMilliseconds(i.getMilliseconds()+864e5*s.expires),s.expires=i}s.expires=s.expires?s.expires.toUTCString():"";try{r=JSON.stringify(l),/^[\{\[]/.test(r)&&(l=r)}catch(e){}l=n.write?n.write(l,t):encodeURIComponent(l+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(t+"")).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,!0!==s[c]&&(a+="="+s[c]));return document.cookie=t+"="+l+a}t||(r={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,h=0;h<u.length;h++){var p=u[h].split("="),m=p.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var S=p[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,S):n(m,S)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===S){r=m;break}t||(r[S]=m)}catch(e){}}return r}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,n){o(t,"",e(n,{expires:-1}))},o.withConverter=t,o}(function(){})});"use strict";class StyleSwitcher{constructor(){this.currentStylesheet=this.STYLE_DAY,this.loadStyleFromCookie()}setActiveStyleSheet(e){const t=document.documentElement.classList;(e===StyleSwitcher.STYLE_DAY?t.remove:t.add).call(t,StyleSwitcher.NIGHT_CLASS),StyleSwitcher.setButtonText(e),this.currentStylesheet=e,StyleSwitcher.createCookie(this.currentStylesheet)}static setButtonText(e){const t=StyleSwitcher.getButton();t&&t.length&&t.html(`${e===StyleSwitcher.STYLE_DAY?"Night":"Day"} Mode`)}getActiveStyleSheet(){return this.currentStylesheet}loadStyleFromCookie(){this.cookie=StyleSwitcher.readCookie(),this.cookie=this.cookie?this.cookie:StyleSwitcher.STYLE_DAY,this.setActiveStyleSheet(this.cookie)}static getButton(){if(window.$)return $(".nightModeToggle")}static createCookie(e){Cookies.set("style",e,{expires:365})}static readCookie(){return Cookies.get("style")}toggleActiveStyleSheet(){const e=this.currentStylesheet===StyleSwitcher.STYLE_DAY?StyleSwitcher.STYLE_NIGHT:StyleSwitcher.STYLE_DAY;this.setActiveStyleSheet(e)}}StyleSwitcher.STYLE_DAY="day",StyleSwitcher.STYLE_NIGHT="night",StyleSwitcher.NIGHT_CLASS="night-mode";const styleSwitcher=new StyleSwitcher;window.addEventListener("unload",function(){const e=styleSwitcher.getActiveStyleSheet();StyleSwitcher.createCookie(e)}),window.addEventListener("load",function(){navigation(),currentPage()},!1);const CHILD_PAGES={"adventure.html":"adventures.html"};function currentPage(){let e=window.location.pathname;if((e=e.substr(e.lastIndexOf("/")+1))||(e="5etools.html"),CHILD_PAGES[e]&&(e=CHILD_PAGES[e]),"book.html"===e.toLowerCase()){const t=window.location.hash.split(",")[0];t&&(e+=t.toLowerCase())}const t=$(`li[data-page="${e}"]`);t.addClass("active"),t.siblings().removeClass("active"),t.parent().closest("li").addClass("active")}function navigation(){function e(e,t,n,o,l,s,r,i,a){const c=document.createElement("a");c.id=t,c.className=n,c.setAttribute("data-toggle",o),c.href=l,c.setAttribute("role",s),c.setAttribute("aria-haspopup",r),c.setAttribute("aria-expanded",i),c.innerHTML=a,document.getElementById(e).appendChild(c)}function t(e,t,n){const o=document.createElement("ul");o.id=t,o.className=n,document.getElementById(e).appendChild(o)}function n(e,t,n,o){const l=o?`#${o}`.toLowerCase():"";$(`#${e}`).append(`\n\t\t\t\t<li role="presentation" id="${n.toLowerCase().replace(/\s+/g,"")}" data-page="${t}${l}">\n\t\t\t\t\t<a href="${t}${l}">${n}</a>\n\t\t\t\t</li>\n\t\t\t`)}function o(e){$(`#${e}`).append('<li role="presentation" class="divider"></li>')}function l(e,t,n){const o=document.createElement("li");o.id=t,o.setAttribute("role","presentation"),o.className=n,document.getElementById(e).appendChild(o)}n("navbar","5etools.html","首頁"),l("navbar","rules","dropdown"),e("rules","ruleOption","dropdown-toggle","dropdown","#","button","true","false","規則 <span class='caret'></span>"),t("rules","ul_rules","dropdown-menu"),n("ul_rules","quickreference.html","Quick Reference"),n("ul_rules","variantrules.html","Variant & Optional Rules"),o("ul_rules"),n("ul_rules","book.html","Dungeon Master's Guide","DMG"),n("ul_rules","book.html","Monster Manual","MM"),n("ul_rules","book.html","Player's Handbook","PHB"),o("ul_rules"),n("ul_rules","book.html","Mordenkainen's Tome of Foes","MTF"),n("ul_rules","book.html","Sword Coast Adventurer's Guide","SCAG"),n("ul_rules","book.html","Volo's Guide to Monsters","VGM"),n("ul_rules","book.html","Xanathar's Guide to Everything","XGE"),o("ul_rules"),n("ul_rules","book.html","Adventurers League","AL"),l("navbar","players","dropdown"),e("players","playerOption","dropdown-toggle","dropdown","#","button","true","false","Player Options <span class='caret'></span>"),t("players","ul_players","dropdown-menu"),n("ul_players","classes.html","Classes"),n("ul_players","backgrounds.html","Backgrounds"),n("ul_players","feats.html","Feats"),n("ul_players","invocations.html","Invocations"),n("ul_players","races.html","Races"),n("ul_players","lifegen.html","This Is Your Life"),n("ul_players","names.html","Names"),l("navbar","dms","dropdown"),e("dms","dmOption","dropdown-toggle","dropdown","#","button","true","false","DM Tools <span class='caret'></span>"),t("dms","ul_dms","dropdown-menu"),n("ul_dms","adventures.html","Adventures"),n("ul_dms","crcalculator.html","CR Calculator"),n("ul_dms","cultsboons.html","Cults & Demonic Boons"),n("ul_dms","dmscreen.html","DM Screen"),$("#ul_dms").append('\n\t\t\t<li role="presentation">\n\t\t\t\t<a href="https://kobold.club" target="_blank" title="We could literally never build something better than Kobold Fight Club" class="dropdown-ext-link">\n\t\t\t\t\t<span>Encounter Builder</span>\n\t\t\t\t\t<span class="glyphicon glyphicon-log-out"></span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t'),n("ul_dms","encountergen.html","Encounter Generator"),n("ul_dms","lootgen.html","Loot Generator"),n("ul_dms","objects.html","Objects"),n("ul_dms","trapshazards.html","Traps & Hazards"),l("navbar","references","dropdown"),e("references","references","dropdown-toggle","dropdown","#","button","true","false","References <span class='caret'></span>"),t("references","ul_references","dropdown-menu"),n("ul_references","bestiary.html","Bestiary"),n("ul_references","conditionsdiseases.html","Conditions & Diseases"),n("ul_references","deities.html","Deities"),n("ul_references","items.html","Items"),n("ul_references","rewards.html","Other Rewards"),n("ul_references","psionics.html","Psionics"),n("ul_references","spells.html","Spells"),n("navbar","statgen.html","Statgen","rolled"),l("navbar","utils","dropdown"),e("utils","utils","dropdown-toggle","dropdown","#","button","true","false","Utilities <span class='caret'></span>"),t("utils","ul_utils","dropdown-menu"),n("ul_utils","blacklist.html","Content Blacklist"),n("ul_utils","converter.html","Stat Block to JSON"),n("ul_utils","demo.html","Renderer Demo"),n("ul_utils","roll20.html","Roll20 Script Help"),function(e,t,n,o,l){const s=document.createElement("a");s.href="#",s.className="nightModeToggle",s.setAttribute("onclick","styleSwitcher.toggleActiveStyleSheet(); return false;"),s.innerHTML=styleSwitcher.getActiveStyleSheet()===StyleSwitcher.STYLE_DAY?"Night Mode":"Day Mode";const r=document.createElement("li");r.id="daynightMode",r.setAttribute("role","presentation"),r.appendChild(s),document.getElementById("navbar").appendChild(r)}()}