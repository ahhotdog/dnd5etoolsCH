"use strict";const CONTENTS_URL="data/adventures.json";let list;window.onload=function(){BookUtil.renderArea=$("#pagecontent"),BookUtil.renderArea.append(EntryRenderer.utils.getBorderTr()),window.location.hash.length?BookUtil.renderArea.append('<tr><td colspan="6" class="initial-message">Loading...</td></tr>'):BookUtil.renderArea.append('<tr><td colspan="6" class="initial-message">Select an adventure to begin</td></tr>'),BookUtil.renderArea.append(EntryRenderer.utils.getBorderTr()),DataUtil.loadJSON(CONTENTS_URL).then(onJsonLoad)};let adventures=[],adI=0;function onJsonLoad(t){$("ul.contents").append($("\n\t\t<li>\n\t\t\t<a href='adventures.html'>\n\t\t\t\t<span class='name'>â‡½ All Adventures</span>\n\t\t\t</a>\n\t\t</li>\n\t")),list=new List("listcontainer",{valueNames:["name"],listClass:"contents"}),BookUtil.baseDataUrl="data/adventure/adventure-",BookUtil.homebrewIndex="adventure",BookUtil.homebrewData="adventureData",addAdventures(t),window.onhashchange=BookUtil.booksHashChange,BrewUtil.pAddBrewData().then(t=>{addAdventures(t),BookUtil.addHeaderHandles(!0)}).catch(BrewUtil.purgeBrew).then(()=>{window.location.hash.length?BookUtil.booksHashChange():$(".contents-item").show()})}function addAdventures(t){if(!t.adventure||!t.adventure.length)return;adventures=adventures.concat(t.adventure),BookUtil.bookIndex=adventures;const e=$("ul.contents");let n="";for(;adI<adventures.length;adI++){const t=adventures[adI];n+=`<li class="contents-item" data-bookid="${UrlUtil.encodeForHash(t.id)}" style="display: none;">\n\t\t\t\t<a id="${adI}" href="#${t.id},0" title="${t.name}">\n\t\t\t\t\t<span class='name'>${t.name}</span>\n\t\t\t\t</a>\n\t\t\t\t${BookUtil.makeContentsBlock({book:t,addOnclick:!0,defaultHeadersHidden:!0})}\n\t\t\t</li>`}e.append(n)}